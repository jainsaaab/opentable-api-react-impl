(this["webpackJsonpopentable-api-react-impl"]=this["webpackJsonpopentable-api-react-impl"]||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/logo.76ea3212.png"},20:function(e,t,a){e.exports=a.p+"static/media/spinner.235b9b3e.gif"},21:function(e,t,a){e.exports=a(46)},26:function(e,t,a){},28:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),l=a.n(c),u=(a(26),a(5)),i=a(16),o=a(4),s=a.n(o),m=a(17),p=a(2),f=a(18),E=a.n(f),d=function(){return r.a.createElement("header",{className:"center"},r.a.createElement("img",{src:E.a,alt:"opentable logo"}))},g=(a(28),a(19)),b=a.n(g),v=function(e){return r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,e.item.name),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("strong",null,"Address:")," ",e.item.address),r.a.createElement("li",null,r.a.createElement("strong",null,"City:")," ",e.item.city),r.a.createElement("li",null,r.a.createElement("strong",null,"Area:")," ",e.item.area),r.a.createElement("li",null,r.a.createElement("strong",null,"Phone:")," ",e.item.phone),r.a.createElement("li",null,r.a.createElement("strong",null,"Price:")," ",function(e){for(var t="",a=0;a<e;a++)t+="$";return t}(e.item.price)),r.a.createElement("li",null,r.a.createElement("strong",null,r.a.createElement("a",{href:e.item.reserve_url},"Reserve Table")))))},h=a(20),O=a.n(h),j=function(){return r.a.createElement("img",{src:O.a,style:{width:"200px",margin:"auto",display:"block"},alt:"Loading..."})},y=function(e){return e.isLoading?r.a.createElement(j,null):r.a.createElement("section",{className:"cards"},e.items.map((function(e){return r.a.createElement(v,{key:e.id,item:e})})))},k=function(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),c=a[0],l=a[1];return r.a.createElement("section",{className:"search"},r.a.createElement("form",null,r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search: enter city name",value:c,onChange:function(t){return a=t.target.value,l(a),void e.getQuery(a);var a},autoFocus:!0})))},x=function(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),c=a[0],l=a[1];return r.a.createElement("section",{className:"search"},r.a.createElement("form",null,r.a.createElement("input",{type:"text",className:"form-control",placeholder:"enter name / street / area to refine your search",value:c,onChange:function(t){return a=t.target.value,l(a),void e.getFilterText(a.toLowerCase());var a}})))},N=function(e){var t=[];1===e.curPage?t.push(r.a.createElement("div",{key:"prev"},"\xab")):t.push(r.a.createElement("div",{onClick:function(t){return e.clicked(e.curPage-1)},key:"prev"},"\xab"));for(var a=1;a<=e.totalPages;a++){var n=void 0;n=a===e.curPage?r.a.createElement("div",{key:a,onClick:function(t){return e.clicked(t.target.innerHTML)},className:"active"},a):r.a.createElement("div",{key:a,onClick:function(t){return e.clicked(t.target.innerHTML)}},a),t.push(n)}return e.curPage===e.totalPages?t.push(r.a.createElement("div",{key:"next"},"\xbb")):t.push(r.a.createElement("div",{onClick:function(t){return e.clicked(e.curPage+1)},key:"next"},"\xbb")),r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"pagination"},t))},C=function(){var e=Object(n.useState)({restaurants:[]}),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)({restaurants:[]}),o=Object(p.a)(l,2),f=o[0],E=o[1],g=Object(n.useState)(!0),v=Object(p.a)(g,2),h=v[0],O=v[1],j=Object(n.useState)("toronto"),C=Object(p.a)(j,2),P=C[0],S=C[1],w=Object(n.useState)(""),L=Object(p.a)(w,2),T=L[0],M=L[1],_=Object(n.useState)(1),F=Object(p.a)(_,2),A=F[0],H=F[1];return Object(n.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()("https://opentable.herokuapp.com/api/restaurants?city=".concat(P,"&per_page=50&page=").concat(A));case 2:t=e.sent,c(t.data),E(t.data),O(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[P,A]),Object(n.useEffect)((function(){var e,t=[],n={},r=Object(i.a)(a.restaurants);try{for(r.s();!(e=r.n()).done;)-1===(n=e.value).area.toLowerCase().indexOf(T)&&-1===n.name.toLowerCase().indexOf(T)&&-1===n.address.toLowerCase().indexOf(T)||t.push(n)}catch(c){r.e(c)}finally{r.f()}E(Object(u.a)(Object(u.a)({},a),{},{restaurants:t}))}),[a,T]),r.a.createElement("div",{className:"container"},r.a.createElement(d,null),r.a.createElement(k,{getQuery:function(e){return S(e)}}),r.a.createElement(x,{getFilterText:function(e){return M(e)}}),r.a.createElement(y,{items:f.restaurants,isLoading:h}),r.a.createElement("br",null),r.a.createElement(N,{clicked:function(e){return H(Number(e))},curPage:A,totalPages:Math.ceil(a.total_entries/a.per_page)}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.2e7e1787.chunk.js.map